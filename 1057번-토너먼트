#include <iostream>
using namespace std;


int main() {
    int n, kim, lim;
    cin >> n >> kim >> lim;

    int *arr = new int[n]{0}; // n개의 int를 0으로 초기화한 동적 배열

    arr[kim-1] = 1;
    arr[lim-1] = 1;

    int round = 1;
    while (n != 0) {
        int j = 0; // 다음라운드 배열의 인덱스
        if (n % 2 == 1) { // n이 홀수일 때
            for (int i = 0; i < n; i = i + 2) {
                if (i == n - 1) arr[j] = arr[i];
                else {
                    if(arr[i] == 1 && arr[i+1] == 1) {
                        cout << round;
                        delete[] arr;
                        return 0;
                    }
                    if (arr[i] != arr[i + 1]) {
                        arr[j] = 1;
                    } else arr[j] = 0;
                }
                j++;
            }
            n = n / 2 + 1;
        }
        else { // n이 짝수일 때
            for (int i = 0; i < n; i = i + 2) {
                if(arr[i] == 1 && arr[i+1] == 1) {
                    cout << round;
                    delete[] arr;
                    return 0;
                }
                if (arr[i] != arr[i+1]) {
                    arr[j] = 1;
                }
                else arr[j] = 0;
                j++;
            }
            n = n / 2;
        }

        round++;

    }
    cout << "-1";
    delete[] arr;
}
